{
  "git": {
    "commitMessage": "chore: release v${version}",
    "commit": true,
    "tag": true,
    "push": true,
    "requireBranch": "main",
    "requireCleanWorkingDir": false
  },
  "github": {
    "release": true,
    "tokenRef": "GITHUB_TOKEN",
    "releaseName": "Release ${version}",
    "autoGenerate": false
  },
  "npm": {
    "publish": false,
    "versionArgs": ["--allow-same-version"]
  },
  "version": {
    "files": [
      "package.json",
      "pyproject.toml"
    ]
  },
  "plugins": {
    "@csmith/release-it-calver-plugin": {
      "format": "YYYY.M.MICRO"
    },
    "@release-it/conventional-changelog": {
      "preset": {
        "name": "conventionalcommits",
        "types": [
          { "type": "feat", "section": "🚀 Features" },
          { "type": "fix", "section": "🐛 Bug Fixes" },
          { "type": "perf", "section": "⚡ Performance Improvements" },
          { "type": "refactor", "section": "♻️ Code Refactoring" },
          { "type": "docs", "section": "📚 Documentation" },
          { "type": "style", "section": "💎 Styles", "hidden": true },
          { "type": "test", "section": "🧪 Tests", "hidden": true },
          { "type": "build", "section": "🔧 Build System", "hidden": true },
          { "type": "ci", "section": "⚙️ CI/CD", "hidden": true },
          { "type": "chore", "section": "🧹 Chores", "hidden": true }
        ]
      },
      "infile": "CHANGELOG.md",
      "header": "# Changelog\n\nAll notable changes to Wizarr will be documented in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project uses [Calendar Versioning](https://calver.org/).\n\n"
    }
  },
  "hooks": {
    "before:init": [
      "echo 'Checking for releasable commits...'",
      "git log --oneline --grep='^feat\\|^fix\\|^perf\\|^refactor' $(git describe --tags --abbrev=0 2>/dev/null || echo 'HEAD~10')..HEAD | head -1 | grep -q '.' || (echo 'No releasable commits found' && exit 1)"
    ],
    "after:release": [
      "echo 'Successfully released ${name} v${version}'"
    ]
  }
}