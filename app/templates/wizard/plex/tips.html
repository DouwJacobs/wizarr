<div id="wizard"
  class="animate__animated {% if prev %} animate__fadeInLeft {% endif %} {% if next %} animate__fadeInRight {% endif %}  p-6 max-w-m bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700">
  <h4 class="mb-3 text-xl font-bold dark:text-white">
    ‚ÑπÔ∏è {{ _("Eh, So, What is Plex exactly?") }}
  </h4>
  <p class="mb-3 font-normal text-gray-700 dark:text-gray-400">
    {{ _("Great question! Plex is a software that allows individuals to share their media collections with others. If
    you've received this invitation, it means someone wants to share their library with you. With Plex, you'll have
    access to all of the movies, TV shows, music, and photos that are stored on their server. Enjoy!") }}</p>
  <br>
  <h4 class="mb-3 text-xl font-bold dark:text-white">
    üçø {{ _("Right, so how do I watch stuff?") }}
  </h4>
  <p class="mb-3 font-normal text-gray-700 dark:text-gray-400">
    {{ _("It couldn't be simpler! Plex is available on a wide variety of devices including laptops, tablets,
    smartphones, and TVs. All you need to do is download the Plex app on your device, sign in with your account, and
    you're ready to start streaming your media. It's that easy!") }}</p>
  <br>
  <h4 class="mb-3 text-xl font-bold dark:text-white">
    üéû {{ _("How can I make sure to have the best experience?") }}
  </h4>
  <p class="mb-3 font-normal text-gray-700 dark:text-gray-400">
    {{ _("Because Plex is a free service, they promote their own content before the awesome content your friend is now
    sharing with you - they also, by default, play content at a lower quality. ") }}
    <br />
    {{ _("No need to worry though, this can be easily resolved") }}. <span class="font-semibold">{{ _("We highly
      recommend you to go through those steps first!") }}</span>
  </p>
  <div class="border-gray-200" id="accordion-collapse" x-data="{openedIndexes: []}">
    <h2 id="accordion-collapse-heading-1">
      <button type="button" @click="openedIndexes = toggleIndexes(openedIndexes, 0)"
        class="flex items-center justify-between w-full p-5 font-medium text-left text-gray-500 border border-b-0 border-gray-200 rounded-t-xl focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800">
        <span>üñ• {{ _("Configure Plex in your browser") }}</span>
        <svg x-show="!openedIndexes.includes(0)" class="w-6 h-6 shrink-0" fill="currentColor" viewBox="0 0 20 20"
          xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd"
            d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
            clip-rule="evenodd"></path>
        </svg>
        <svg x-show="openedIndexes.includes(0)" class="w-6 h-6 rotate-180 shrink-0" fill="currentColor"
          viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd"
            d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
            clip-rule="evenodd"></path>
        </svg>
      </button>
    </h2>
    <div id="accordion-collapse-body-1" x-show="openedIndexes.includes(0)">
      <div class="embed-responsive embed-responsive-16by9 relative w-full overflow-hidden" style="padding-top: 56.25%">
        <iframe class="embed-responsive-item absolute top-0 right-0 bottom-0 left-0 w-full h-full"
          src="{{ videos[video_lang]['web_video'] }}" allowfullscreen="" data-gtm-yt-inspected-2340190_699="true"
          id="240632615"></iframe>
      </div>
    </div>
    <h2 id="accordion-collapse-heading-2">
      <button type="button" @click="openedIndexes = toggleIndexes(openedIndexes, 1)"
        class="flex items-center justify-between w-full p-5 font-medium text-left text-gray-500 border border-b-0 border-gray-200 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800">
        <span>üì± {{ _("Configure Plex's app on your computer, mobile device or TV") }}</span>
        <svg x-show="!openedIndexes.includes(1)" class="w-6 h-6 shrink-0" fill="currentColor" viewBox="0 0 20 20"
          xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd"
            d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
            clip-rule="evenodd"></path>
        </svg>
        <svg x-show="openedIndexes.includes(1)" class="w-6 h-6 rotate-180 shrink-0" fill="currentColor"
          viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd"
            d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
            clip-rule="evenodd"></path>
        </svg>
      </button>
    </h2>
    <div id="accordion-collapse-body-2" x-show="openedIndexes.includes(1)">
      <div class=" font-light border border-b-0 border-gray-200 dark:border-gray-700 dark:bg-gray-900">
        <div class="embed-responsive embed-responsive-16by9 relative w-full overflow-hidden"
          style="padding-top: 56.25%">
          <iframe class="embed-responsive-item absolute top-0 right-0 bottom-0 left-0 w-full h-full"
            src="{{ videos[video_lang]['app_video'] }}" allowfullscreen="" data-gtm-yt-inspected-2340190_699="true"
            id="240632615"></iframe>
        </div>
      </div>
    </div>
    <div class="text-center">
      <a href="/setup/open-plex" target="_blank"
        class="inline-flex items-center py-2 px-3 text-sm font-medium text-center text-white bg-amber-700 rounded-lg hover:bg-primary_hover focus:ring-4 focus:outline-none focus:ring-amber-300 dark:bg-primary dark:hover:bg-primary_hover dark:focus:ring-primary_hover">
        {{ _("Open Plex") }}
        <svg class="ml-2 w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
          <path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z">
          </path>
          <path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"></path>
        </svg>
      </a>
    </div>
  </div>
</div>

<script>
  function toggleIndexes(openedIndexes, index) {
    if (!openedIndexes.includes(index)) {
      return [...openedIndexes, index]
    }
    else {
      // remove the index from openIndex array
      return openedIndexes.filter((i) => i !== index)
    }
  }
</script>